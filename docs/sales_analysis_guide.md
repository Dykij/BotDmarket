# Руководство по модулю анализа продаж DMarket

## Введение

Модуль анализа продаж DMarket предоставляет функциональность для отслеживания и анализа истории продаж предметов на платформе DMarket. Он помогает принимать более обоснованные решения по арбитражу и торговле, основываясь на исторических данных о продажах и ликвидности предметов.

## Возможности модуля

1. **Анализ истории продаж отдельных предметов**
   - Отслеживание средней цены продаж
   - Анализ трендов изменения цен
   - Информация о частоте продаж
   
2. **Оценка ликвидности предметов**
   - Определение категории ликвидности (низкая, средняя, высокая, очень высокая)
   - Рекомендации для арбитража на основе ликвидности
   
3. **Поиск арбитражных возможностей с учетом продаж**
   - Фильтрация по минимальному количеству продаж в день
   - Фильтрация по тенденциям изменения цен (рост, падение, стабильность)
   
4. **Статистика объема продаж**
   - Анализ самых продаваемых предметов
   - Оценка общей рыночной ситуации

## Команды бота

| Команда | Описание |
|---------|----------|
| `/sales_analysis <item_name>` | Анализ истории продаж для указанного предмета |
| `/liquidity <item_name>` | Оценка ликвидности указанного предмета |
| `/arbitrage_sales` | Поиск арбитражных возможностей с учетом истории продаж |
| `/sales_volume` | Статистика объема продаж популярных предметов |

## Примеры использования

### Анализ истории продаж

```
/sales_analysis AWP | Asiimov (Field-Tested)
```

Команда вернет подробный анализ истории продаж указанного предмета, включая:
- Среднюю цену продаж
- Максимальную и минимальную цену
- Тренд изменения цены
- Количество продаж за период
- Среднее количество продаж в день

### Оценка ликвидности

```
/liquidity AK-47 | Redline (Field-Tested)
```

Команда выполнит анализ ликвидности указанного предмета и предоставит:
- Категорию ликвидности (низкая, средняя, высокая, очень высокая)
- Оценку ликвидности по шкале от 1 до 7
- Тренд изменения цены
- Информацию о частоте продаж
- Текущую ситуацию на рынке
- Рекомендацию по использованию предмета для арбитража

### Поиск арбитражных возможностей с учетом продаж

```
/arbitrage_sales
```

Команда выполнит поиск арбитражных возможностей с учетом истории продаж и ликвидности предметов. Результаты включают:
- Список предметов с возможностями для арбитража
- Потенциальную прибыль от каждого предмета
- Информацию о ликвидности и частоте продаж
- Данные о трендах изменения цен

### Статистика объема продаж

```
/sales_volume
```

Команда предоставит статистику по объему продаж популярных предметов, включая:
- Топ предметов по количеству продаж в день
- Информацию о трендах цен на рынке
- Общее количество проанализированных предметов
- Распределение предметов по трендам цен (рост, падение, стабильность)

## Настройка фильтров

При использовании команды `/arbitrage_sales` вы можете настроить фильтры для поиска арбитражных возможностей:

1. **Минимальная прибыль** - минимальная абсолютная прибыль в долларах США
2. **Минимальный процент прибыли** - минимальная прибыль в процентах
3. **Минимум продаж в день** - минимальное количество продаж в день для фильтрации неликвидных предметов
4. **Фильтр по тренду цены** - поиск предметов с определенным трендом (рост, падение, стабильность)

## Технические детали

Модуль использует эндпоинт `/price-aggregator/v1/last-sales` API DMarket для получения данных о последних продажах предметов. Эти данные обрабатываются и анализируются для предоставления полезной информации о рыночных трендах и ликвидности предметов.

Система оценки ликвидности учитывает следующие факторы:
- Количество продаж в день
- Количество предложений на рынке
- Стабильность цены
- Общий объем продаж за период
