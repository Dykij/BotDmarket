.. _telegram-bot:

Telegram Bot
==========

Модуль для работы Telegram-бота DMarket.

.. toctree::
   :maxdepth: 2

   bot
   handlers
   keyboards
   utils

Основные возможности
-----------------

Модуль ``bot_v2.py`` предоставляет следующие возможности:

* Инициализация и настройка Telegram-бота
* Обработка команд пользователя
* Взаимодействие с API DMarket
* Отображение информации о балансе и предметах
* Настройка и управление автоматическим арбитражем

Обработчики команд и сообщений
---------------------------

Основные команды, поддерживаемые ботом:

* ``/start`` - начало работы с ботом
* ``/help`` - справка по доступным командам
* ``/balance`` - отображение текущего баланса
* ``/market`` - поиск предметов на маркете
* ``/arbitrage`` - управление автоматическим арбитражем

Клавиатуры
---------

Бот использует несколько типов клавиатур:

* Основная клавиатура - для быстрого доступа к основным функциям
* Клавиатура арбитража - для управления арбитражными стратегиями
* Инлайн-клавиатуры - для интерактивного взаимодействия с пользователем

Примеры использования
------------------

Запуск бота:

.. code-block:: python

   from telegram_bot.bot_v2 import main
   import asyncio
   
   # Запуск бота
   asyncio.run(main())

Создание пользовательской клавиатуры:

.. code-block:: python

   from telegram_bot.keyboards import create_keyboard
   
   # Создание клавиатуры с кнопками
   keyboard = create_keyboard([
       ["Баланс", "Арбитраж"],
       ["Помощь", "Настройки"]
   ])

Отправка сообщения с форматированием:

.. code-block:: python

   async def send_info(update, context):
       text = (
           "*Название:* Товар\n"
           "*Цена:* $10.00\n"
           "*Состояние:* Новый"
       )
       await update.message.reply_text(
           text=text,
           parse_mode="Markdown"
       ) 